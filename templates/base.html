<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}{% endblock %}</title>
    
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    {% block head %}{% endblock %} 

</head>

<body>

    <div class="container-grid">

        <header class="header container-flex">
            <a class="header_logo" href={{ url_for('showHomepage') }} title="Home">CATALOGIC</a>
            <nav class="header_nav">
                {% if 'username' not in session %}
                <a class="header_nav-btn" href={{ url_for('showLogin') }}>
                    Sign in
                </a>
                {% else %}
                <a class="header_nav-link" href={{ url_for('disconnect') }}>
                    <img class="header_nav-user" src="{{ user.picture }}" alt="User Profile Photo">
                </a>
                {% endif %}
            </nav>
        </header>

        <aside class="sidebar">
            <h3 class="sidebar_title">Categories</h3>
            {% if not category %}
                <a class="sidebar_link active" id="all" href={{ url_for('showHomepage') }}>
                    All Categories
                </a>

                {% for item in categories %}
                <a class="sidebar_link"
                    id={{ item.name }}
                    href={{ url_for('showCategory', category_name = item.name.lower()) }}>
                    {{ item.name }}
                </a>
                {% endfor %}
            {% else %}
                <a class="sidebar_link" id="all" href={{ url_for('showHomepage') }}>
                    All Categories
                </a>

                {% for item in categories %}
                    {% if item.name == category.name %}
                    <a class="sidebar_link active"
                        id={{ item.name }}
                        href={{ url_for('showCategory', category_name = item.name.lower()) }}>
                        {{ item.name }}
                    </a>
                    {% else %}
                    <a class="sidebar_link"
                        id={{ item.name }}
                        href={{ url_for('showCategory', category_name = item.name.lower()) }}>
                        {{ item.name }}
                    </a>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </aside>

        <main class="main">
            {% block main %}{% endblock %}
        </main>
        
        <footer class="footer">
            <p class="footer_copy">
                &copy; 2019 by Christopher Stanley
            </p>
        </footer>

    </div>

    {% block script %}{% endblock %}

</body>
</html>